<ul id="map-grid">
  <% 20.times do |row| %>
    <% 20.times do |col| %>
      <% terrain = @game.board.terrain_at(row, col).downcase %>
      <% content = @game.board.content_at(row, col) %>
      <%= content_tag :li,
        id: "map-cell-#{row}-#{col}",
        class: row.even? ? "even" : "odd" do %>
        <%= content_tag :div,
          class: [
            "hexagon",
            "grid-item",
            "terrain-#{terrain}",
            terrain.length > 1 ? "hex-map-image" : nil,
            row.odd? && col == 0 ? "row-bump" : nil].compact.join(" ") do %>
            <%= render partial: "cell_content", locals: {content: content} %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</ul>
